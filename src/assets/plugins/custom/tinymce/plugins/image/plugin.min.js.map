{"version":3,"sources":["image/plugin.min.js"],"names":["t","e","n","r","o","i","tinymce","util","Tools","resolve","c","Object","assign","arguments","length","prototype","hasOwnProperty","call","apply","this","a","Array","isPrototypeOf","constructor","name","String","l","v","s","u","m","d","y","undefined","g","f","p","h","b","D","A","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","Error","getOrNull","getOrUndefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","w","S","some","none","from","x","keys","C","I","U","T","push","N","P","window","Function","console","error","setAttribute","dom","_","E","M","j","R","k","getParam","z","Math","max","parseInt","B","replace","H","test","F","margin","split","G","nodeName","hasAttribute","W","DOM","q","style","marginLeft","marginRight","V","marginTop","marginBottom","$","borderWidth","J","getAttribute","K","X","parentNode","Z","removeAttribute","Y","ee","te","ne","re","ie","ae","borderStyle","oe","le","getAttrib","ce","src","alt","title","width","height","class","caption","hspace","vspace","border","isDecorative","me","de","setAttrib","ge","fe","insertAfter","remove","create","appendChild","contentEditable","Q","pe","styles","parse","serialize","he","selection","getNode","getParent","select","be","schema","getTextBlockElements","isValidChild","O","getBody","De","Ae","we","Se","xe","value","Ce","text","menu","items","Ue","Ie","Oe","Ne","Pe","convertURL","url","send","success","JSON","Te","then","image","imageList","classList","hasAdvTab","hasUploadTab","hasUploadUrl","hasUploadHandler","hasDescription","hasImageTitle","hasDimensions","hasImageCaption","prependURL","hasAccessibilityOptions","automaticUploads","_e","type","label","disabled","filetype","columns","Ee","Me","Re","meta","images","dimensions","classes","borderstyle","fileinput","ke","Be","getData","setData","He","substring","ze","imageSize","open","prevImage","Ge","block","L","unblock","URL","createObjectURL","revokeObjectURL","showTab","FileReader","onload","result","onerror","message","readAsDataURL","createBlobCache","uploadImage","alertErr","addToBlobCache","blobUri","We","prevAlt","Fe","parseStyle","serializeStyle","document","createElement","ue","normalizeCss","disable","enable","Ve","documentBaseURI","toAbsolute","removeChild","clientWidth","clientHeight","reject","visibility","position","bottom","left","body","$e","onSubmit","execCommand","editorUpload","uploadImagesAuto","close","blobCache","add","blob","filename","base64","windowManager","alert","upload","status","size","tabs","inputMode","buttons","primary","initialData","onChange","onClose","qe","Je","addCommand","undoManager","transact","nodeChanged","setAttribs","ye","focus","isEmpty","setContent","setCursorLocation","outerHTML","ve","Ke","attr","getAll","on","parser","addNodeFilter","serializer","ui","registry","addToggleButton","icon","tooltip","onAction","onSetup","selectorChangedWithUnbind","setActive","unbind","addMenuItem","addContextMenu","update"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.8.2 (2021-06-23)\n */\n!function(){\"use strict\";var t,e,n,r,o,i=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},a=function(r){return function(e){return n=typeof(t=e),(null===t?\"null\":\"object\"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&\"Array\"===t.constructor.name)?\"array\":\"object\"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&\"String\"===t.constructor.name)?\"string\":n)===r;var t,n}},l=function(t){return function(e){return typeof e===t}},v=a(\"string\"),s=a(\"object\"),u=a(\"array\"),m=function(e){return t===e},d=l(\"boolean\"),y=function(e){return!(null===(t=e)||t===undefined);var t},g=l(\"number\"),f=function(){},p=function(e){return function(){return e}},h=p(!1),b=p(!(t=null)),D=function(){return A},A=(e=function(e){return e.isNone()},{fold:function(e,t){return e()},is:h,isSome:h,isNone:b,getOr:r=function(e){return e},getOrThunk:n=function(e){return e()},getOrDie:function(e){throw new Error(e||\"error: getOrDie called on none.\")},getOrNull:p(null),getOrUndefined:p(undefined),or:r,orThunk:n,map:D,each:f,bind:D,exists:h,forall:b,filter:D,equals:e,equals_:e,toArray:function(){return[]},toString:p(\"none()\")}),w=function(n){var e=p(n),t=function(){return i},r=function(e){return e(n)},i={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:b,isNone:h,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:t,orThunk:t,map:function(e){return w(e(n))},each:function(e){e(n)},bind:r,exists:r,forall:r,filter:function(e){return e(n)?i:A},toArray:function(){return[n]},toString:function(){return\"some(\"+n+\")\"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(h,function(e){return t(n,e)})}};return i},S={some:w,none:D,from:function(e){return null===e||e===undefined?A:w(e)}},x=Object.keys,C=Object.hasOwnProperty,U=function(e,n,r,i){return function(e,t){for(var n=x(e),r=0,i=n.length;r<i;r++){var a=n[r];t(e[a],a)}}(e,function(e,t){(n(e,t)?r:i)(e,t)}),{}},I=function(e,t){var n,r={};return U(e,t,(n=r,function(e,t){n[t]=e}),f),r},O=function(e,t){return n=e,r=t,C.call(n,r)&&e[t]!==undefined&&null!==e[t];var n,r},T=Array.prototype.push,N=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!u(e[n]))throw new Error(\"Arr.flatten item \"+n+\" was not an array, input: \"+e);T.apply(t,e[n])}return t},L=function(e){return t=e,(n=0)<=n&&n<t.length?S.some(t[n]):S.none();var t,n},P=(\"undefined\"!=typeof window||Function(\"return this;\")(),function(e,t,n){!function(e,t,n){if(!(v(n)||d(n)||g(n)))throw console.error(\"Invalid call to Attribute.set. Key \",t,\":: Value \",n,\":: Element \",e),new Error(\"Attribute value was not simple\");e.setAttribute(t,n+\"\")}(e.dom,t,n)}),_=function(e){if(null===e||e===undefined)throw new Error(\"Node cannot be null or undefined\");return{dom:e}},E={fromHtml:function(e,t){var n=(t||document).createElement(\"div\");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error(\"HTML does not have a single root node\",e),new Error(\"HTML must have a single root node\");return _(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return _(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return _(n)},fromDom:_,fromPoint:function(e,t,n){return S.from(e.dom.elementFromPoint(t,n)).map(_)}},M=tinymce.util.Tools.resolve(\"tinymce.dom.DOMUtils\"),j=tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),R=tinymce.util.Tools.resolve(\"tinymce.util.XHR\"),k=function(e){return e.getParam(\"image_dimensions\",!0,\"boolean\")},z=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},B=function(e){return e=e&&e.replace(/px$/,\"\")},H=function(e){return 0<e.length&&/^[0-9]+$/.test(e)&&(e+=\"px\"),e},F=function(e){if(e.margin){var t=String(e.margin).split(\" \");switch(t.length){case 1:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[0],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[0],e[\"margin-left\"]=e[\"margin-left\"]||t[0];break;case 2:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[0],e[\"margin-left\"]=e[\"margin-left\"]||t[1];break;case 3:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[2],e[\"margin-left\"]=e[\"margin-left\"]||t[1];break;case 4:e[\"margin-top\"]=e[\"margin-top\"]||t[0],e[\"margin-right\"]=e[\"margin-right\"]||t[1],e[\"margin-bottom\"]=e[\"margin-bottom\"]||t[2],e[\"margin-left\"]=e[\"margin-left\"]||t[3]}delete e.margin}return e},G=function(e){return\"IMG\"===e.nodeName&&(e.hasAttribute(\"data-mce-object\")||e.hasAttribute(\"data-mce-placeholder\"))},W=M.DOM,q=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?B(e.style.marginLeft):\"\"},V=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?B(e.style.marginTop):\"\"},$=function(e){return e.style.borderWidth?B(e.style.borderWidth):\"\"},J=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):\"\"},K=function(e,t){return e.style[t]?e.style[t]:\"\"},X=function(e){return null!==e.parentNode&&\"FIGURE\"===e.parentNode.nodeName},Z=function(e,t,n){\"\"===n?e.removeAttribute(t):e.setAttribute(t,n)},Q=function(e){var t,n,r,i;X(e)?(i=(r=e).parentNode,W.insertAfter(r,i),W.remove(i)):(t=e,n=W.create(\"figure\",{\"class\":\"image\"}),W.insertAfter(n,t),n.appendChild(t),n.appendChild(W.create(\"figcaption\",{contentEditable:\"true\"},\"Caption\")),n.contentEditable=\"false\")},Y=function(e,t){var n=e.getAttribute(\"style\"),r=t(null!==n?n:\"\");0<r.length?(e.setAttribute(\"style\",r),e.setAttribute(\"data-mce-style\",r)):e.removeAttribute(\"style\")},ee=function(e,r){return function(e,t,n){e.style[t]?(e.style[t]=H(n),Y(e,r)):Z(e,t,n)}},te=function(e,t){return e.style[t]?B(e.style[t]):J(e,t)},ne=function(e,t){var n=H(t);e.style.marginLeft=n,e.style.marginRight=n},re=function(e,t){var n=H(t);e.style.marginTop=n,e.style.marginBottom=n},ie=function(e,t){var n=H(t);e.style.borderWidth=n},ae=function(e,t){e.style.borderStyle=t},oe=function(e){return\"FIGURE\"===e.nodeName},le=function(e){return 0===W.getAttrib(e,\"alt\").length&&\"presentation\"===W.getAttrib(e,\"role\")},se=function(){return{src:\"\",alt:\"\",title:\"\",width:\"\",height:\"\",\"class\":\"\",style:\"\",caption:!1,hspace:\"\",vspace:\"\",border:\"\",borderStyle:\"\",isDecorative:!1}},ue=function(e,t){var n=document.createElement(\"img\");return Z(n,\"style\",t.style),!q(n)&&\"\"===t.hspace||ne(n,t.hspace),!V(n)&&\"\"===t.vspace||re(n,t.vspace),!$(n)&&\"\"===t.border||ie(n,t.border),!K(n,\"borderStyle\")&&\"\"===t.borderStyle||ae(n,t.borderStyle),e(n.getAttribute(\"style\"))},ce=function(e,t){return{src:J(t,\"src\"),alt:le(n=t)?\"\":J(n,\"alt\"),title:J(t,\"title\"),width:te(t,\"width\"),height:te(t,\"height\"),\"class\":J(t,\"class\"),style:e(J(t,\"style\")),caption:X(t),hspace:q(t),vspace:V(t),border:$(t),borderStyle:K(t,\"borderStyle\"),isDecorative:le(t)};var n},me=function(e,t,n,r,i){n[r]!==t[r]&&i(e,r,n[r])},de=function(e,t,n){var r,i;n?(W.setAttrib(e,\"role\",\"presentation\"),r=E.fromDom(e),P(r,\"alt\",\"\")):(m(t)?(r=E.fromDom(e),i=\"alt\",r.dom.removeAttribute(i)):(r=E.fromDom(e),P(r,\"alt\",t)),\"presentation\"===W.getAttrib(e,\"role\")&&W.setAttrib(e,\"role\",\"\"))},ge=function(r,i){return function(e,t,n){r(e,n),Y(e,i)}},fe=function(e,t,n){var r,i,a,o=ce(e,n);me(n,o,t,\"caption\",function(e,t,n){return Q(e),0}),me(n,o,t,\"src\",Z),me(n,o,t,\"title\",Z),me(n,o,t,\"width\",ee(0,e)),me(n,o,t,\"height\",ee(0,e)),me(n,o,t,\"class\",Z),me(n,o,t,\"style\",ge(function(e,t){return Z(e,\"style\",t),0},e)),me(n,o,t,\"hspace\",ge(ne,e)),me(n,o,t,\"vspace\",ge(re,e)),me(n,o,t,\"border\",ge(ie,e)),me(n,o,t,\"borderStyle\",ge(ae,e)),r=n,i=o,(a=t).alt===i.alt&&a.isDecorative===i.isDecorative||de(r,a.alt,a.isDecorative)},pe=function(e,t){var n=e.dom.styles.parse(t),r=F(n),i=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(i)},he=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,\"figure.image\");return n?e.dom.select(\"img\",n)[0]:t&&(\"IMG\"!==t.nodeName||G(t))?null:t},be=function(n,e){var t=n.dom,r=I(n.schema.getTextBlockElements(),function(e,t){return!n.schema.isValidChild(t,\"figure\")}),i=t.getParent(e.parentNode,function(e){return O(r,e.nodeName)},n.getBody());return i?t.split(i,e):e},ve=function(t,e){var n=function(e,t){var n=document.createElement(\"img\");if(fe(e,c(c({},t),{caption:!1}),n),de(n,t.alt,t.isDecorative),t.caption){var r=W.create(\"figure\",{\"class\":\"image\"});return r.appendChild(n),r.appendChild(W.create(\"figcaption\",{contentEditable:\"true\"},\"Caption\")),r.contentEditable=\"false\",r}return n}(function(e){return pe(t,e)},e);t.dom.setAttrib(n,\"data-mce-id\",\"__mcenew\"),t.focus(),t.selection.setContent(n.outerHTML);var r,i=t.dom.select('*[data-mce-id=\"__mcenew\"]')[0];t.dom.setAttrib(i,\"data-mce-id\",null),oe(i)?(r=be(t,i),t.selection.select(r)):t.selection.select(i)},ye=function(t,e){var n,r,i,a,o,l,s=he(t);fe(function(e){return pe(t,e)},e,s),n=s,t.dom.setAttrib(n,\"src\",n.getAttribute(\"src\")),oe(s.parentNode)?(r=s.parentNode,be(t,r),t.selection.select(s.parentNode)):(t.selection.select(s),i=t,a=e,l=function(){o.onload=o.onerror=null,i.selection&&(i.selection.select(o),i.nodeChanged())},(o=s).onload=function(){a.width||a.height||!k(i)||i.dom.setAttribs(o,{width:String(o.clientWidth),height:String(o.clientHeight)}),l()},o.onerror=l)},De=Object.prototype.hasOwnProperty,Ae=(o=function(e,t){return s(e)&&s(t)?Ae(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error(\"Can't merge zero objects\");for(var n={},r=0;r<e.length;r++){var i=e[r];for(var a in i)De.call(i,a)&&(n[a]=o(n[a],i[a]))}return n}),we=tinymce.util.Tools.resolve(\"tinymce.util.ImageUploader\"),Se=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),xe=function(e){return v(e.value)?e.value:\"\"},Ce=function(e,a){var o=[];return Se.each(e,function(e){var t,n,r,i=v((t=e).text)?t.text:v(t.title)?t.title:\"\";e.menu!==undefined?(n=Ce(e.menu,a),o.push({text:i,items:n})):(r=a(e),o.push({text:i,value:r}))}),o},Ue=function(t){return void 0===t&&(t=xe),function(e){return e?S.from(e).map(function(e){return Ce(e,t)}):S.none()}},Ie=function(e,n){return function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return S.none()}(e,function(e){return t=e,Object.prototype.hasOwnProperty.call(t,\"items\")?Ie(e.items,n):e.value===n?S.some(e):S.none();var t})},Oe=Ue,Te=function(e){return Ue(xe)(e)},Ne=function(e,t){return e.bind(function(e){return Ie(e,t)})},Le=function(e){return{title:\"Advanced\",name:\"advanced\",items:[{type:\"input\",label:\"Style\",name:\"style\"},{type:\"grid\",columns:2,items:[{type:\"input\",label:\"Vertical space\",name:\"vspace\",inputMode:\"numeric\"},{type:\"input\",label:\"Horizontal space\",name:\"hspace\",inputMode:\"numeric\"},{type:\"input\",label:\"Border width\",name:\"border\",inputMode:\"numeric\"},{type:\"listbox\",name:\"borderstyle\",label:\"Border style\",items:[{text:\"Select...\",value:\"\"},{text:\"Solid\",value:\"solid\"},{text:\"Dotted\",value:\"dotted\"},{text:\"Dashed\",value:\"dashed\"},{text:\"Double\",value:\"double\"},{text:\"Groove\",value:\"groove\"},{text:\"Ridge\",value:\"ridge\"},{text:\"Inset\",value:\"inset\"},{text:\"Outset\",value:\"outset\"},{text:\"None\",value:\"none\"},{text:\"Hidden\",value:\"hidden\"}]}]}]}},Pe=function(r){var t,e,i=Oe(function(e){return r.convertURL(e.value||e.url,\"src\")}),n=new j(function(t){var n,e;n=function(e){t(i(e).map(function(e){return N([[{text:\"None\",value:\"\"}],e])}))},\"string\"==typeof(e=r.getParam(\"image_list\",!1))?R.send({url:e,success:function(e){n(JSON.parse(e))}}):\"function\"==typeof e?e(n):n(e)}),a=Te(r.getParam(\"image_class_list\")),o=r.getParam(\"image_advtab\",!1,\"boolean\"),l=r.getParam(\"image_uploadtab\",!0,\"boolean\"),s=y(r.getParam(\"images_upload_url\")),u=y(r.getParam(\"images_upload_handler\")),c=(e=he(t=r))?ce(function(e){return pe(t,e)},e):se(),m=r.getParam(\"image_description\",!0,\"boolean\"),d=r.getParam(\"image_title\",!1,\"boolean\"),g=k(r),f=r.getParam(\"image_caption\",!1,\"boolean\"),p=r.getParam(\"a11y_advanced_options\",!1,\"boolean\"),h=r.getParam(\"automatic_uploads\",!0,\"boolean\"),b=S.some(r.getParam(\"image_prepend_url\",\"\",\"string\")).filter(function(e){return v(e)&&0<e.length});return n.then(function(e){return{image:c,imageList:e,classList:a,hasAdvTab:o,hasUploadTab:l,hasUploadUrl:s,hasUploadHandler:u,hasDescription:m,hasImageTitle:d,hasDimensions:g,hasImageCaption:f,prependURL:b,hasAccessibilityOptions:p,automaticUploads:h}})},_e=function(e){var t=e.imageList.map(function(e){return{name:\"images\",type:\"listbox\",label:\"Image list\",items:e}}),n={name:\"alt\",type:\"input\",label:\"Alternative description\",disabled:e.hasAccessibilityOptions&&e.image.isDecorative},r=e.classList.map(function(e){return{name:\"classes\",type:\"listbox\",label:\"Class\",items:e}});return N([[{name:\"src\",type:\"urlinput\",filetype:\"image\",label:\"Source\"}],t.toArray(),e.hasAccessibilityOptions&&e.hasDescription?[{type:\"label\",label:\"Accessibility\",items:[{name:\"isDecorative\",type:\"checkbox\",label:\"Image is decorative\"}]}]:[],e.hasDescription?[n]:[],e.hasImageTitle?[{name:\"title\",type:\"input\",label:\"Image title\"}]:[],e.hasDimensions?[{name:\"dimensions\",type:\"sizeinput\"}]:[],[c(c({},e.classList.isSome()&&e.hasImageCaption?{type:\"grid\",columns:2}:{type:\"panel\"}),{items:N([r.toArray(),e.hasImageCaption?[{type:\"label\",label:\"Caption\",items:[{type:\"checkbox\",name:\"caption\",label:\"Show caption\"}]}]:[]])})]])},Ee=function(e){return{title:\"General\",name:\"general\",items:_e(e)}},Me=_e,je=function(e){return{title:\"Upload\",name:\"upload\",items:[{type:\"dropzone\",name:\"fileinput\"}]}},Re=function(e){return{src:{value:e.src,meta:{}},images:e.src,alt:e.alt,title:e.title,dimensions:{width:e.width,height:e.height},classes:e[\"class\"],caption:e.caption,style:e.style,vspace:e.vspace,border:e.border,hspace:e.hspace,borderstyle:e.borderStyle,fileinput:[],isDecorative:e.isDecorative}},ke=function(e,t){return{src:e.src.value,alt:0===e.alt.length&&t?null:e.alt,title:e.title,width:e.dimensions.width,height:e.dimensions.height,\"class\":e.classes,style:e.style,caption:e.caption,hspace:e.hspace,vspace:e.vspace,border:e.border,borderStyle:e.borderstyle,isDecorative:e.isDecorative}},ze=function(e,t){var n,r,i=t.getData();n=e,r=i.src.value,(/^(?:[a-zA-Z]+:)?\\/\\//.test(r)?S.none():n.prependURL.bind(function(e){return r.substring(0,e.length)!==e?S.some(e+r):S.none()})).each(function(e){t.setData({src:{value:e,meta:i.src.meta}})})},Be=function(e,t){var n,r,i,a,o=t.getData(),l=o.src.meta;l!==undefined&&(n=Ae({},o),i=n,a=l,(r=e).hasDescription&&v(a.alt)&&(i.alt=a.alt),r.hasAccessibilityOptions&&(i.isDecorative=a.isDecorative||i.isDecorative||!1),r.hasImageTitle&&v(a.title)&&(i.title=a.title),r.hasDimensions&&(v(a.width)&&(i.dimensions.width=a.width),v(a.height)&&(i.dimensions.height=a.height)),v(a[\"class\"])&&Ne(r.classList,a[\"class\"]).each(function(e){i.classes=e.value}),r.hasImageCaption&&d(a.caption)&&(i.caption=a.caption),r.hasAdvTab&&(v(a.style)&&(i.style=a.style),v(a.vspace)&&(i.vspace=a.vspace),v(a.border)&&(i.border=a.border),v(a.hspace)&&(i.hspace=a.hspace),v(a.borderstyle)&&(i.borderstyle=a.borderstyle)),t.setData(n))},He=function(e,t,n,r){var i,a,o,l,s,u,c,m,d,g,f,p;ze(t,r),Be(t,r),i=e,a=t,o=n,s=(l=r).getData(),u=s.src.value,(c=s.src.meta||{}).width||c.height||!a.hasDimensions||(0<u.length?i.imageSize(u).then(function(e){o.open&&l.setData({dimensions:e})})[\"catch\"](function(e){return console.error(e)}):l.setData({dimensions:{width:\"\",height:\"\"}})),m=t,d=n,f=(g=r).getData(),p=Ne(m.imageList,f.src.value),d.prevImage=p,g.setData({images:p.map(function(e){return e.value}).getOr(\"\")})},Fe=function(e,t,n){var r,i,a,o,l,s=F(e(n.style)),u=Ae({},n);return u.vspace=(r=s)[\"margin-top\"]&&r[\"margin-bottom\"]&&r[\"margin-top\"]===r[\"margin-bottom\"]?B(String(r[\"margin-top\"])):\"\",u.hspace=(i=s)[\"margin-right\"]&&i[\"margin-left\"]&&i[\"margin-right\"]===i[\"margin-left\"]?B(String(i[\"margin-right\"])):\"\",u.border=(a=s)[\"border-width\"]?B(String(a[\"border-width\"])):\"\",u.borderstyle=(o=s)[\"border-style\"]?String(o[\"border-style\"]):\"\",u.style=(l=t)(e(l(s))),u},Ge=function(l,s,t,u){var e=u.getData();u.block(\"Uploading image\"),L(e.fileinput).fold(function(){u.unblock()},function(n){var r,i=URL.createObjectURL(n),a=function(){u.unblock(),URL.revokeObjectURL(i)},o=function(e){u.setData({src:{value:e,meta:{}}}),u.showTab(\"general\"),He(l,s,t,u)};r=n,new j(function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=function(){t(n.error.message)},n.readAsDataURL(r)}).then(function(e){var t=l.createBlobCache(n,i,e);s.automaticUploads?l.uploadImage(t).then(function(e){o(e.url),a()})[\"catch\"](function(e){a(),l.alertErr(e)}):(l.addToBlobCache(t),o(t.blobUri()),u.unblock())})})},We=function(h,b,v){return function(e,t){var n,r,i,a,o,l,s,u,c,m,d,g,f,p;\"src\"===t.name?He(h,b,v,e):\"images\"===t.name?(c=h,m=b,d=v,f=(g=e).getData(),(p=Ne(m.imageList,f.images)).each(function(e){\"\"===f.alt||d.prevImage.map(function(e){return e.text===f.alt}).getOr(!1)?\"\"===e.value?g.setData({src:e,alt:d.prevAlt}):g.setData({src:e,alt:e.text}):g.setData({src:e})}),d.prevImage=p,He(c,m,d,g)):\"alt\"===t.name?v.prevAlt=e.getData().alt:\"style\"===t.name?(o=h,s=(l=e).getData(),u=Fe(o.parseStyle,o.serializeStyle,s),l.setData(u)):\"vspace\"===t.name||\"hspace\"===t.name||\"border\"===t.name||\"borderstyle\"===t.name?(n=h,r=e,i=Ae(Re(b.image),r.getData()),a=ue(n.normalizeCss,ke(i,!1)),r.setData({style:a})):\"fileinput\"===t.name?Ge(h,b,v,e):\"isDecorative\"===t.name&&(e.getData().isDecorative?e.disable(\"alt\"):e.enable(\"alt\"))}},qe=function(a){return function(e){var t,n,r,i={prevImage:Ne((t=e).imageList,t.image.src),prevAlt:t.image.alt,open:!0};return{title:\"Insert/Edit Image\",size:\"normal\",body:(r=e).hasAdvTab||r.hasUploadUrl||r.hasUploadHandler?{type:\"tabpanel\",tabs:N([[Ee(r)],r.hasAdvTab?[Le(r)]:[],r.hasUploadTab&&(r.hasUploadUrl||r.hasUploadHandler)?[je(r)]:[]])}:{type:\"panel\",items:Me(r)},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0}],initialData:Re(e.image),onSubmit:a.onSubmit(e),onChange:We(a,e,i),onClose:(n=i,function(){n.open=!1})}}},Ve=function(t){return function(e){return i=t.documentBaseURI.toAbsolute(e),new j(function(t){var n=document.createElement(\"img\"),r=function(e){n.parentNode&&n.parentNode.removeChild(n),t(e)};n.onload=function(){var e={width:z(n.width,n.clientWidth),height:z(n.height,n.clientHeight)};r(j.resolve(e))},n.onerror=function(){r(j.reject(\"Failed to get image dimensions for: \"+i))};var e=n.style;e.visibility=\"hidden\",e.position=\"fixed\",e.bottom=e.left=\"0px\",e.width=e.height=\"auto\",document.body.appendChild(n),n.src=i}).then(function(e){return{width:String(e.width),height:String(e.height)}});var i}},$e=function(e){var t,n,r,i,a,o,l,s,u={onSubmit:function(n){return function(e){var t=Ae(Re(n.image),e.getData());s.execCommand(\"mceUpdateImage\",!1,ke(t,n.hasAccessibilityOptions)),s.editorUpload.uploadImagesAuto(),e.close()}},imageSize:Ve(s=e),addToBlobCache:function(e){l.editorUpload.blobCache.add(e)},createBlobCache:function(e,t,n){return o.editorUpload.blobCache.create({blob:e,blobUri:t,name:e.name?e.name.replace(/\\.[^\\.]+$/,\"\"):null,filename:e.name,base64:n.split(\",\")[1]})},alertErr:function(e){a.windowManager.alert(e)},normalizeCss:function(e){return pe(i,e)},parseStyle:function(e){return r.dom.parseStyle(e)},serializeStyle:function(e,t){return n.dom.serializeStyle(e,t)},uploadImage:(t=n=r=i=a=o=l=e,function(e){return we(t).upload([e],!1).then(function(e){return 0===e.length?j.reject(\"Failed to upload image\"):!1===e[0].status?j.reject(e[0].error.message):e[0]})})};return{open:function(){Pe(e).then(qe(u)).then(e.windowManager.open)}}},Je=function(u){u.addCommand(\"mceImage\",$e(u).open),u.addCommand(\"mceUpdateImage\",function(e,s){u.undoManager.transact(function(){return e=s,void((l=he(t=u))?(n=ce(function(e){return pe(t,e)},l),(r=c(c({},n),e)).src?ye(t,r):(i=t,(a=l)&&(o=i.dom.is(a.parentNode,\"figure.image\")?a.parentNode:a,i.dom.remove(o),i.focus(),i.nodeChanged(),i.dom.isEmpty(i.getBody())&&(i.setContent(\"\"),i.selection.setCursorLocation())))):e.src&&ve(t,c(c({},se()),e)));var t,e,n,r,i,a,o,l})})},Ke=function(a){return function(e){for(var t,n=e.length,r=function(e){e.attr(\"contenteditable\",a?\"true\":null)};n--;){var i=e[n];(t=i.attr(\"class\"))&&/\\bimage\\b/.test(t)&&(i.attr(\"contenteditable\",a?\"false\":null),Se.each(i.getAll(\"figcaption\"),r))}}};i.add(\"image\",function(e){var t,n;(t=e).on(\"PreInit\",function(){t.parser.addNodeFilter(\"figure\",Ke(!0)),t.serializer.addNodeFilter(\"figure\",Ke(!1))}),(n=e).ui.registry.addToggleButton(\"image\",{icon:\"image\",tooltip:\"Insert/edit image\",onAction:$e(n).open,onSetup:function(e){return n.selection.selectorChangedWithUnbind(\"img:not([data-mce-object],[data-mce-placeholder]),figure.image\",e.setActive).unbind}}),n.ui.registry.addMenuItem(\"image\",{icon:\"image\",text:\"Image...\",onAction:$e(n).open}),n.ui.registry.addContextMenu(\"image\",{update:function(e){return oe(e)||\"IMG\"===e.nodeName&&!G(e)?[\"image\"]:[]}}),Je(e)})}();"]}