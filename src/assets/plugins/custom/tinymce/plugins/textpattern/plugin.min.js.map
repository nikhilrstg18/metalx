{"version":3,"sources":["textpattern/plugin.min.js"],"names":["n","r","e","t","tinymce","util","Tools","resolve","u","Object","assign","arguments","length","o","prototype","hasOwnProperty","call","apply","this","Array","isPrototypeOf","constructor","name","String","i","f","c","a","s","l","d","m","g","p","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","h","y","some","none","from","v","slice","b","indexOf","k","O","w","C","push","E","R","N","keys","P","S","match","join","log","console","constructors","params","bothErrors","firstError","secondError","bothValues","errors","values","M","isValue","isError","mapError","toOptional","B","D","value","error","fromOption","I","type","A","j","start","sort","_","message","pattern","format","cmd","end","replacement","U","q","inlinePatterns","blockPatterns","V","window","Function","W","F","G","getParam","H","J","K","X","z","Q","container","offset","Y","nodeType","Node","TEXT_NODE","Z","isEmpty","parentNode","remove","$","startContainer","endContainer","deleteContents","data","tt","get","T","nt","rt","dom","getParent","isBlock","getBody","et","DOM","ot","at","backwards","it","textContent","ut","forwards","ct","childNodes","reverse","st","lt","pop","node","dt","document","createRange","setStart","setEnd","mt","createRng","gt","selection","getRng","replace","x","trim","range","getRoot","ht","vt","create","id","yt","setStartAfter","setEndBefore","bt","endOffset","splitText","startOffset","prefix","insertBefore","kt","Ot","nodeName","getContentEditable","ft","substring","lastIndexOf","charAt","wt","position","matches","startRng","endRng","Ct","remainingPatterns","concat","substr","splice","Et","setRng","formatter","execCommand","Rt","collapsed","Tt","getBookmark","Date","getTime","Math","floor","random","endMarker","startMarker","xt","moveToBookmark","Nt","undoManager","transact","Pt","St","on","keyCode","modifierPressed","isCollapsed","add","extra","insertContent","pt","deleteData","preventDefault","charCodeAt","charCode","setEditorTimeout","set","setPatterns","JSON","stringify","getPatterns","L"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.8.2 (2021-06-23)\n */\n!function(){\"use strict\";var t=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),u=function(){return(u=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};var n,r,e,o=function(e){return function(t){return r=typeof(n=t),(null===n?\"null\":\"object\"==r&&(Array.prototype.isPrototypeOf(n)||n.constructor&&\"Array\"===n.constructor.name)?\"array\":\"object\"==r&&(String.prototype.isPrototypeOf(n)||n.constructor&&\"String\"===n.constructor.name)?\"string\":r)===e;var n,r}},i=o(\"string\"),f=o(\"object\"),c=o(\"array\"),a=function(){},s=function(t){return function(){return t}},l=function(t){return t},d=s(!1),m=s(!0),g=function(){return p},p=(n=function(t){return t.isNone()},{fold:function(t,n){return t()},is:d,isSome:d,isNone:m,getOr:e=function(t){return t},getOrThunk:r=function(t){return t()},getOrDie:function(t){throw new Error(t||\"error: getOrDie called on none.\")},getOrNull:s(null),getOrUndefined:s(undefined),or:e,orThunk:r,map:g,each:a,bind:g,exists:d,forall:m,filter:g,equals:n,equals_:n,toArray:function(){return[]},toString:s(\"none()\")}),h=function(r){var t=s(r),n=function(){return o},e=function(t){return t(r)},o={fold:function(t,n){return n(r)},is:function(t){return r===t},isSome:m,isNone:d,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return h(t(r))},each:function(t){t(r)},bind:e,exists:e,forall:e,filter:function(t){return t(r)?o:p},toArray:function(){return[r]},toString:function(){return\"some(\"+r+\")\"},equals:function(t){return t.is(r)},equals_:function(t,n){return t.fold(d,function(t){return n(r,t)})}};return o},y={some:h,none:g,from:function(t){return null===t||t===undefined?p:h(t)}},v=Array.prototype.slice,b=Array.prototype.indexOf,k=function(t,n){return r=t,e=n,-1<b.call(r,e);var r,e},O=function(t,n){for(var r=t.length,e=new Array(r),o=0;o<r;o++){var a=t[o];e[o]=n(a,o)}return e},w=function(t,n){for(var r=0,e=t.length;r<e;r++){n(t[r],r)}},C=function(t,n){for(var r=[],e=0,o=t.length;e<o;e++){var a=t[e];n(a,e)&&r.push(a)}return r},E=function(t,n,r){return function(t,n){for(var r=t.length-1;0<=r;r--){n(t[r],r)}}(t,function(t){r=n(r,t)}),r},x=function(t,n){return function(t,n,r){for(var e=0,o=t.length;e<o;e++){var a=t[e];if(n(a,e))return y.some(a);if(r(a,e))break}return y.none()}(t,n,d)},R=function(t,n){for(var r=0,e=t.length;r<e;++r){if(!0!==n(t[r],r))return!1}return!0},T=function(t){return n=t,(r=0)<=r&&r<n.length?y.some(n[r]):y.none();var n,r},N=Object.keys,P=Object.hasOwnProperty,S=(function(i){if(!c(i))throw new Error(\"cases must be an array\");if(0===i.length)throw new Error(\"there must be at least one case\");var u=[],r={};w(i,function(t,e){var n=N(t);if(1!==n.length)throw new Error(\"one and only one name per case\");var o=n[0],a=t[o];if(r[o]!==undefined)throw new Error(\"duplicate key detected:\"+o);if(\"cata\"===o)throw new Error(\"cannot have a case named cata (sorry)\");if(!c(a))throw new Error(\"case arguments must be an array\");u.push(o),r[o]=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=r.length;if(n!==a.length)throw new Error(\"Wrong number of arguments to case \"+o+\". Expected \"+a.length+\" (\"+a+\"), got \"+n);return{fold:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length!==i.length)throw new Error(\"Wrong number of arguments to fold. Expected \"+i.length+\", got \"+t.length);return t[e].apply(null,r)},match:function(t){var n=N(t);if(u.length!==n.length)throw new Error(\"Wrong number of arguments to match. Expected: \"+u.join(\",\")+\"\\nActual: \"+n.join(\",\"));if(!R(u,function(t){return k(n,t)}))throw new Error(\"Not all branches were specified when using match. Specified: \"+n.join(\", \")+\"\\nRequired: \"+u.join(\", \"));return t[o].apply(null,r)},log:function(t){console.log(t,{constructors:u,constructor:o,params:r})}}}})}([{bothErrors:[\"error1\",\"error2\"]},{firstError:[\"error1\",\"value2\"]},{secondError:[\"value1\",\"error2\"]},{bothValues:[\"value1\",\"value2\"]}]),function(t){var n=[],r=[];return w(t,function(t){t.fold(function(t){n.push(t)},function(t){r.push(t)})}),{errors:n,values:r}}),M=function(r){return{is:function(t){return r===t},isValue:m,isError:d,getOr:s(r),getOrThunk:s(r),getOrDie:s(r),or:function(t){return M(r)},orThunk:function(t){return M(r)},fold:function(t,n){return n(r)},map:function(t){return M(t(r))},mapError:function(t){return M(r)},each:function(t){t(r)},bind:function(t){return t(r)},exists:function(t){return t(r)},forall:function(t){return t(r)},toOptional:function(){return y.some(r)}}},B=function(r){return{is:d,isValue:d,isError:m,getOr:l,getOrThunk:function(t){return t()},getOrDie:function(){return t=String(r),function(){throw new Error(t)}();var t},or:function(t){return t},orThunk:function(t){return t()},fold:function(t,n){return t(r)},map:function(t){return B(r)},mapError:function(t){return B(t(r))},each:a,bind:function(t){return B(r)},exists:d,forall:m,toOptional:y.none}},D={value:M,error:B,fromOption:function(t,n){return t.fold(function(){return B(n)},M)}},I=function(t){return\"inline-command\"===t.type||\"inline-format\"===t.type},A=function(t){return\"block-command\"===t.type||\"block-format\"===t.type},j=function(t){return n=t,r=function(t,n){return t.start.length===n.start.length?0:t.start.length>n.start.length?-1:1},(e=v.call(n,0)).sort(r),e;var n,r,e},_=function(o){var a=function(t){return D.error({message:t,pattern:o})},t=function(t,n,r){if(o.format===undefined)return o.cmd!==undefined?i(o.cmd)?D.value(r(o.cmd,o.value)):a(t+\" pattern has non-string `cmd` parameter\"):a(t+\" pattern is missing both `format` and `cmd` parameters\");var e=void 0;if(c(o.format)){if(!R(o.format,i))return a(t+\" pattern has non-string items in the `format` array\");e=o.format}else{if(!i(o.format))return a(t+\" pattern has non-string `format` parameter\");e=[o.format]}return D.value(n(e))};if(!f(o))return a(\"Raw pattern is not an object\");if(!i(o.start))return a(\"Raw pattern is missing `start` parameter\");if(o.end===undefined)return o.replacement!==undefined?i(o.replacement)?0===o.start.length?a(\"Replacement pattern has empty `start` parameter\"):D.value({type:\"inline-command\",start:\"\",end:o.start,cmd:\"mceInsertContent\",value:o.replacement}):a(\"Replacement pattern has non-string `replacement` parameter\"):0===o.start.length?a(\"Block pattern has empty `start` parameter\"):t(\"Block\",function(t){return{type:\"block-format\",start:o.start,format:t[0]}},function(t,n){return{type:\"block-command\",start:o.start,cmd:t,value:n}});if(!i(o.end))return a(\"Inline pattern has non-string `end` parameter\");if(0===o.start.length&&0===o.end.length)return a(\"Inline pattern has empty `start` and `end` parameters\");var r=o.start,e=o.end;return 0===e.length&&(e=r,r=\"\"),t(\"Inline\",function(t){return{type:\"inline-format\",start:r,end:e,format:t}},function(t,n){return{type:\"inline-command\",start:r,end:e,cmd:t,value:n}})},U=function(t){return\"block-command\"===t.type?{start:t.start,cmd:t.cmd,value:t.value}:\"block-format\"===t.type?{start:t.start,format:t.format}:\"inline-command\"===t.type?\"mceInsertContent\"===t.cmd&&\"\"===t.start?{start:t.end,replacement:t.value}:{start:t.start,end:t.end,cmd:t.cmd,value:t.value}:\"inline-format\"===t.type?{start:t.start,end:t.end,format:1===t.format.length?t.format[0]:t.format}:void 0},q=function(t){return{inlinePatterns:C(t,I),blockPatterns:j(C(t,A))}},L=function(e){return{setPatterns:function(t){var n=S(O(t,_));if(0<n.errors.length){var r=n.errors[0];throw new Error(r.message+\":\\n\"+JSON.stringify(r.pattern,null,2))}e.set(q(n.values))},getPatterns:function(){return function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;for(var e=Array(t),o=0,n=0;n<r;n++)for(var a=arguments[n],i=0,u=a.length;i<u;i++,o++)e[o]=a[i];return e}(O(e.get().inlinePatterns,U),O(e.get().blockPatterns,U))}}},V=\"undefined\"!=typeof window?window:Function(\"return this;\")(),W=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=V.console;r&&(r.error?r.error.apply(r,t):r.log.apply(r,t))},F=[{start:\"*\",end:\"*\",format:\"italic\"},{start:\"**\",end:\"**\",format:\"bold\"},{start:\"#\",format:\"h1\"},{start:\"##\",format:\"h2\"},{start:\"###\",format:\"h3\"},{start:\"####\",format:\"h4\"},{start:\"#####\",format:\"h5\"},{start:\"######\",format:\"h6\"},{start:\"1. \",cmd:\"InsertOrderedList\"},{start:\"* \",cmd:\"InsertUnorderedList\"},{start:\"- \",cmd:\"InsertUnorderedList\"}],G=function(t){var n=t.getParam(\"forced_root_block\",\"p\");return!1===n?\"\":!0===n?\"p\":n},H=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),J=tinymce.util.Tools.resolve(\"tinymce.util.VK\"),K=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),X=tinymce.util.Tools.resolve(\"tinymce.dom.DOMUtils\"),z=tinymce.util.Tools.resolve(\"tinymce.dom.TextSeeker\"),Q=function(t,n){return{container:t,offset:n}},Y=function(t){return t.nodeType===Node.TEXT_NODE},Z=function(t,n,r){var e;n&&t.isEmpty(n)&&!r(n)&&(e=n.parentNode,t.remove(n),Z(t,e,r))},$=function(t,n,r,e){void 0===e&&(e=!0);var o=n.startContainer.parentNode,a=n.endContainer.parentNode;n.deleteContents(),e&&!r(n.startContainer)&&(Y(n.startContainer)&&0===n.startContainer.data.length&&t.remove(n.startContainer),Y(n.endContainer)&&0===n.endContainer.data.length&&t.remove(n.endContainer),Z(t,o,r),o!==a&&Z(t,a,r))},tt=function(t,n){var r=n.get(t);return c(r)&&T(r).exists(function(t){return n=t,r=\"block\",P.call(n,r);var n,r})},nt=function(t){return 0===t.start.length},rt=function(t,n){var r=y.from(t.dom.getParent(n.startContainer,t.dom.isBlock));return\"\"===G(t)?r.orThunk(function(){return y.some(t.getBody())}):r},et=X.DOM,ot=function(n){return function(t){return n===t?-1:0}},at=function(t,n,r){if(Y(t)&&0<=n)return y.some(Q(t,n));var e=z(et);return y.from(e.backwards(t,n,ot(t),r)).map(function(t){return Q(t.container,t.container.data.length)})},it=function(t,r,e){if(!Y(t))return y.none();var n=t.textContent;if(0<=r&&r<=n.length)return y.some(Q(t,r));var o=z(et);return y.from(o.backwards(t,r,ot(t),e)).bind(function(t){var n=t.container.data;return it(t.container,r+n.length,e)})},ut=function(t,n,r){if(!Y(t))return y.none();var e=t.textContent;if(n<=e.length)return y.some(Q(t,n));var o=z(et);return y.from(o.forwards(t,n,ot(t),r)).bind(function(t){return ut(t.container,n-e.length,r)})},ft=function(t,n,r,e,o){var a,i=z(t,(a=t,function(t){return a.isBlock(t)||k([\"BR\",\"IMG\",\"HR\",\"INPUT\"],t.nodeName)||\"false\"===a.getContentEditable(t)}));return y.from(i.backwards(n,r,e,o))},ct=function(t,n,r){if(Y(n)&&(r<0||r>n.data.length))return[];for(var e=[r],o=n;o!==t&&o.parentNode;){for(var a=o.parentNode,i=0;i<a.childNodes.length;i++)if(a.childNodes[i]===o){e.push(i);break}o=a}return o===t?e.reverse():[]},st=function(t,n,r,e,o){return{start:ct(t,n,r),end:ct(t,e,o)}},lt=function(t,n){var r,e,o,a=n.slice(),i=a.pop();return(r=a,e=function(t,n){return t.bind(function(t){return y.from(t.childNodes[n])})},o=y.some(t),w(r,function(t){o=e(o,t)}),o).bind(function(t){return Y(t)&&(i<0||i>t.data.length)?y.none():y.some({node:t,offset:i})})},dt=function(n,r){return lt(n,r.start).bind(function(t){var o=t.node,a=t.offset;return lt(n,r.end).map(function(t){var n=t.node,r=t.offset,e=document.createRange();return e.setStart(o,a),e.setEnd(n,r),e})})},mt=function(e,o,n){(function(t,n,r){if(Y(t)&&n>=t.length)return y.some(Q(t,n));var e=z(et);return y.from(e.forwards(t,n,ot(t),r)).map(function(t){return Q(t.container,0)})})(o,0,o).each(function(t){var r=t.container;ut(r,n.start.length,o).each(function(t){var n=e.createRng();n.setStart(r,0),n.setEnd(t.container,t.offset),$(e,n,function(t){return t===o})})})},gt=function(e,a){var i=e.dom,t=e.selection.getRng();return rt(e,t).filter(function(t){var n=G(e),r=\"\"===n&&i.is(t,\"body\")||i.is(t,n);return null!==t&&r}).bind(function(n){var t,r,e,o=n.textContent;return(t=a,e=(r=o).replace(\"\\xa0\",\" \"),x(t,function(t){return 0===r.indexOf(t.start)||0===e.indexOf(t.start)})).map(function(t){return K.trim(o).length===t.start.length?[]:[{pattern:t,range:st(i.getRoot(),n,0,n,0)}]})}).getOr([])},pt=function(i,t){var n;0!==t.length&&(n=i.selection.getBookmark(),w(t,function(t){return r=t,e=(n=i).dom,o=r.pattern,a=dt(e.getRoot(),r.range).getOrDie(\"Unable to resolve path range\"),rt(n,a).each(function(t){\"block-format\"===o.type?tt(o.format,n.formatter)&&n.undoManager.transact(function(){mt(n.dom,t,o),n.formatter.apply(o.format)}):\"block-command\"===o.type&&n.undoManager.transact(function(){mt(n.dom,t,o),n.execCommand(o.cmd,!1,o.value)})}),1;var n,r,e,o,a}),i.selection.moveToBookmark(n))},ht=0,vt=function(t,n){return t.create(\"span\",{\"data-mce-type\":\"bookmark\",id:n})},yt=function(t,n){var r=t.createRng();return r.setStartAfter(n.start),r.setEndBefore(n.end),r},bt=function(t,n,r){var e=dt(t.getRoot(),r).getOrDie(\"Unable to resolve path range\"),o=e.startContainer,a=e.endContainer,i=0===e.endOffset?a:a.splitText(e.endOffset),u=0===e.startOffset?o:o.splitText(e.startOffset);return{prefix:n,end:i.parentNode.insertBefore(vt(t,n+\"-end\"),i),start:u.parentNode.insertBefore(vt(t,n+\"-start\"),u)}},kt=function(t,n,r){Z(t,t.get(n.prefix+\"-end\"),r),Z(t,t.get(n.prefix+\"-start\"),r)},Ot=function(e,o,a,t){var i,u=o.start;return ft(e,t.container,t.offset,(i=u,function(t,n){var r=t.data.substring(0,n),e=r.lastIndexOf(i.charAt(i.length-1)),o=r.lastIndexOf(i);return-1!==o?o+i.length:-1!==e?e+1:-1}),a).bind(function(r){if(r.offset>=u.length){var t=e.createRng();return t.setStart(r.container,r.offset-u.length),t.setEnd(r.container,r.offset),y.some(t)}var n=r.offset-u.length;return it(r.container,n,a).map(function(t){var n=e.createRng();return n.setStart(t.container,t.offset),n.setEnd(r.container,r.offset),n}).filter(function(t){return t.toString()===u}).orThunk(function(){return Ot(e,o,a,Q(r.container,0))})})},wt=function(a,i,u){var f=a.dom,c=f.getRoot(),s=u.pattern,l=u.position.container,d=u.position.offset;return it(l,d-u.pattern.end.length,i).bind(function(t){var e=st(c,t.container,t.offset,l,d);if(nt(s))return y.some({matches:[{pattern:s,startRng:e,endRng:e}],position:t});var n=Ct(a,u.remainingPatterns,t.container,t.offset,i),o=n.getOr({matches:[],position:t}),r=o.position;return function(t,r,n,e,o,a){if(void 0===a&&(a=!1),0!==r.start.length||a)return at(n,e,o).bind(function(n){return Ot(t,r,o,n).bind(function(t){if(a){if(t.endContainer===n.container&&t.endOffset===n.offset)return y.none();if(0===n.offset&&t.endContainer.textContent.length===t.endOffset)return y.none()}return y.some(t)})});var i=t.createRng();return i.setStart(n,e),i.setEnd(n,e),y.some(i)}(f,s,r.container,r.offset,i,n.isNone()).map(function(t){var n,r=st(c,(n=t).startContainer,n.startOffset,n.endContainer,n.endOffset);return{matches:o.matches.concat([{pattern:s,startRng:r,endRng:e}]),position:Q(t.startContainer,t.startOffset)}})})},Ct=function(d,m,g,p,h){var v=d.dom;return at(g,p,v.getRoot()).bind(function(t){var n=v.createRng();n.setStart(h,0),n.setEnd(g,p);for(var r,e,o,a,i,u=n.toString(),f=0;f<m.length;f++){var c=m[f];if(r=u,e=c.end,i=a=o=void 0,a=e,i=(o=r).length-e.length,\"\"===a||o.length>=a.length&&o.substr(i,i+a.length)===a){var s=m.slice();s.splice(f,1);var l=wt(d,h,{pattern:c,remainingPatterns:s,position:t});if(l.isSome())return l}}return y.none()})},Et=function(n,t,r){n.selection.setRng(r),\"inline-format\"===t.type?w(t.format,function(t){n.formatter.apply(t)}):n.execCommand(t.cmd,!1,t.value)},xt=function(o,t){var n,r,a=(n=\"mce_textpattern\",r=(new Date).getTime(),n+\"_\"+Math.floor(1e9*Math.random())+ ++ht+String(r)),i=E(t,function(t,n){var r=bt(o,a+\"_end\"+t.length,n.endRng);return t.concat([u(u({},n),{endMarker:r})])},[]);return E(i,function(t,n){var r=i.length-t.length-1,e=nt(n.pattern)?n.endMarker:bt(o,a+\"_start\"+r,n.startRng);return t.concat([u(u({},n),{startMarker:e})])},[])},Rt=function(r,e,o){var a=r.selection.getRng();return!1===a.collapsed?[]:rt(r,a).bind(function(t){var n=a.startOffset-(o?1:0);return Ct(r,e,a.startContainer,n,t)}).fold(function(){return[]},function(t){return t.matches})},Tt=function(f,t){var c,n,r;0!==t.length&&(c=f.dom,n=f.selection.getBookmark(),r=xt(c,t),w(r,function(t){var n,r,e,o,a,i=c.getParent(t.startMarker.start,c.isBlock),u=function(t){return t===i};nt(t.pattern)?(n=f,r=t.pattern,e=t.endMarker,o=u,a=yt(n.dom,e),$(n.dom,a,o),Et(n,r,a)):function(t,n,r,e,o){var a=t.dom,i=yt(a,e),u=yt(a,r);$(a,u,o),$(a,i,o);var f={prefix:r.prefix,start:r.end,end:e.start},c=yt(a,f);Et(t,n,c)}(f,t.pattern,t.startMarker,t.endMarker,u),kt(c,t.endMarker,u),kt(c,t.startMarker,u)}),f.selection.moveToBookmark(n))},Nt=function(t,n){var r=Rt(t,n.inlinePatterns,!0);0<r.length&&t.undoManager.transact(function(){Tt(t,r)})},Pt=function(t,n,r){for(var e=0;e<t.length;e++)if(r(t[e],n))return!0},St=function(n,r){var e=[\",\",\".\",\";\",\":\",\"!\",\"?\"],o=[32];n.on(\"keydown\",function(t){13!==t.keyCode||J.modifierPressed(t)||!function(r,t){if(!r.selection.isCollapsed())return!1;var e=Rt(r,t.inlinePatterns,!1),o=gt(r,t.blockPatterns);return(0<o.length||0<e.length)&&(r.undoManager.add(),r.undoManager.extra(function(){r.execCommand(\"mceInsertNewLine\")},function(){r.insertContent(\"\\ufeff\"),Tt(r,e),pt(r,o);var t=r.selection.getRng(),n=at(t.startContainer,t.startOffset,r.dom.getRoot());r.execCommand(\"mceInsertNewLine\"),n.each(function(t){var n=t.container;\"\\ufeff\"===n.data.charAt(t.offset-1)&&(n.deleteData(t.offset-1,1),Z(r.dom,n.parentNode,function(t){return t===r.dom.getRoot()}))})}),!0)}(n,r.get())||t.preventDefault()},!0),n.on(\"keyup\",function(t){Pt(o,t,function(t,n){return t===n.keyCode&&!1===J.modifierPressed(n)})&&Nt(n,r.get())}),n.on(\"keypress\",function(t){Pt(e,t,function(t,n){return t.charCodeAt(0)===n.charCode})&&H.setEditorTimeout(n,function(){Nt(n,r.get())})})};t.add(\"textpattern\",function(t){var n,r,e=(n=function(t){var n=t.getParam(\"textpattern_patterns\",F,\"array\");if(!c(n))return W(\"The setting textpattern_patterns should be an array\"),{inlinePatterns:[],blockPatterns:[]};var r=S(O(n,_));return w(r.errors,function(t){return W(t.message,t.pattern),0}),q(r.values)}(t),r=n,{get:function(){return r},set:function(t){r=t}});return St(t,e),L(e)})}();"]}