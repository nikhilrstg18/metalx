{"version":3,"sources":["imagetools/plugin.min.js"],"names":["e","t","n","r","i","o","u","a","s","c","l","get","set","f","tinymce","util","Tools","resolve","d","h","undefined","g","v","p","y","w","b","isNone","fold","is","isSome","getOr","getOrThunk","getOrDie","Error","getOrNull","getOrUndefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","I","T","some","none","from","_","A","document","createElement","R","width","height","U","drawImage","getContext","x","window","Promise","this","TypeError","_state","_value","_deferreds","M","L","immediateFn","setImmediate","setTimeout","arguments","length","apply","Array","isArray","Object","prototype","call","then","E","k","all","slice","constructor","reject","race","onFulfilled","onRejected","push","j","C","URL","createObjectURL","Image","removeEventListener","type","addEventListener","src","complete","O","XMLHttpRequest","open","responseType","onload","status","response","onerror","code","name","send","P","split","exec","atob","Math","ceil","min","m","charCodeAt","Uint8Array","Blob","S","HTMLCanvasElement","toBlob","toDataURL","N","revokeObjectURL","D","F","indexOf","H","q","getType","toBase64","toAdjustedBlob","toAdjustedDataURL","toAdjustedBase64","toCanvas","$","G","pow","round","V","scale","K","W","PI","sin","cos","abs","translate","rotate","J","X","keys","Q","onreadystatechange","readyState","blob","withCredentials","setRequestHeader","Y","message","Z","et","nt","rt","JSON","parse","tt","it","ut","test","encodeURIComponent","FileReader","result","readAsText","ot","at","ct","onloadend","readAsDataURL","naturalWidth","naturalHeight","B","st","dom","ft","lt","Function","nodeType","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","childNodes","dt","mt","ht","gt","getParam","vt","style","parseInt","pt","yt","wt","bt","It","Tt","At","xt","_t","notificationManager","text","Rt","selection","getNode","getParent","Ut","match","encode","host","documentBaseURI","inArray","Mt","Et","Lt","editorUpload","blobCache","getByUri","jt","clearTimeout","kt","uri","filename","create","id","base64","add","undoManager","transact","off","nodeChanged","uploadImagesAuto","setEditorTimeout","on","attr","blobUri","removeAttr","Ct","_scanForImages","Ot","Pt","Bt","url","windowManager","title","size","body","items","label","currentState","buttons","primary","disabled","onSubmit","getData","imagetools","removeAttribute","setAttribute","String","St","close","onCancel","onAction","value","enable","disable","mceImageRotateLeft","mceImageRotateRight","mceImageFlipVertical","mceImageFlipHorizontal","mceEditImage","addCommand","execCommand","ui","registry","addButton","tooltip","icon","onSetup","setDisabled","addContextMenu","update","addContextToolbar","predicate","position","scope","element"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.8.2 (2021-06-23)\n */\n!function(){\"use strict\";var e,t,n,r,i,o,u,a,s,c,l=function(t){var e=t;return{get:function(){return e},set:function(t){e=t}}},f=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),d=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),h=function(t){return!(null===(e=t)||e===undefined);var e},m=function(t){return typeof t===e},g=function(){},v=function(t){return function(){return t}},p=v(!(e=\"function\")),y=v(!0),w=function(){return b},b=(t=function(t){return t.isNone()},{fold:function(t,e){return t()},is:p,isSome:p,isNone:y,getOr:r=function(t){return t},getOrThunk:n=function(t){return t()},getOrDie:function(t){throw new Error(t||\"error: getOrDie called on none.\")},getOrNull:v(null),getOrUndefined:v(undefined),or:r,orThunk:n,map:w,each:g,bind:w,exists:p,forall:y,filter:w,equals:t,equals_:t,toArray:function(){return[]},toString:v(\"none()\")}),I=function(n){var t=v(n),e=function(){return o},r=function(t){return t(n)},o={fold:function(t,e){return e(n)},is:function(t){return n===t},isSome:y,isNone:p,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return I(t(n))},each:function(t){t(n)},bind:r,exists:r,forall:r,filter:function(t){return t(n)?o:b},toArray:function(){return[n]},toString:function(){return\"some(\"+n+\")\"},equals:function(t){return t.is(n)},equals_:function(t,e){return t.fold(p,function(t){return e(n,t)})}};return o},T={some:I,none:w,from:function(t){return null===t||t===undefined?b:I(t)}},_=function(t,e){return A(document.createElement(\"canvas\"),t,e)},R=function(t){var e=_(t.width,t.height);return U(e).drawImage(t,0,0),e},U=function(t){return t.getContext(\"2d\")},A=function(t,e,n){return t.width=e,t.height=n,t},x=window.Promise?window.Promise:(i=function(t){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof t)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],c(t,a(M,this),a(L,this))},o=window,u=i.immediateFn||\"function\"==typeof o.setImmediate&&o.setImmediate||function(t){return setTimeout(t,1)},a=function(n,r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.apply(r,t)}},s=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)},c=function(t,e,n){var r=!1;try{t(function(t){r||(r=!0,e(t))},function(t){r||(r=!0,n(t))})}catch(o){if(r)return;r=!0,n(o)}},i.prototype[\"catch\"]=function(t){return this.then(null,t)},i.prototype.then=function(n,r){var o=this;return new i(function(t,e){E.call(o,new k(n,r,t,e))})},i.all=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var c=Array.prototype.slice.call(1===t.length&&s(t[0])?t[0]:t);return new i(function(o,i){if(0===c.length)return o([]);for(var u=c.length,a=function(e,t){try{if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var n=t.then;if(\"function\"==typeof n)return void n.call(t,function(t){a(e,t)},i)}c[e]=t,0==--u&&o(c)}catch(r){i(r)}},t=0;t<c.length;t++)a(t,c[t])})},i.resolve=function(e){return e&&\"object\"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(n){return new i(function(t,e){e(n)})},i.race=function(o){return new i(function(t,e){for(var n=0,r=o;n<r.length;n++)r[n].then(t,e)})},i);function E(r){var o=this;null!==this._state?u(function(){var t,e=o._state?r.onFulfilled:r.onRejected;if(null!==e){try{t=e(o._value)}catch(n){return void r.reject(n)}r.resolve(t)}else(o._state?r.resolve:r.reject)(o._value)}):this._deferreds.push(r)}function M(t){try{if(t===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(t&&(\"object\"==typeof t||\"function\"==typeof t)){var e=t.then;if(\"function\"==typeof e)return void c(a(e,t),a(M,this),a(L,this))}this._state=!0,this._value=t,j.call(this)}catch(n){L.call(this,n)}}function L(t){this._state=!1,this._value=t,j.call(this)}function j(){for(var t=0,e=this._deferreds;t<e.length;t++){var n=e[t];E.call(this,n)}this._deferreds=[]}function k(t,e,n,r){this.onFulfilled=\"function\"==typeof t?t:null,this.onRejected=\"function\"==typeof e?e:null,this.resolve=n,this.reject=r}var C=function(a){return new x(function(t,e){var n=URL.createObjectURL(a),r=new Image,o=function(){r.removeEventListener(\"load\",i),r.removeEventListener(\"error\",u)},i=function(){o(),t(r)},u=function(){o(),e(\"Unable to load data of type \"+a.type+\": \"+n)};r.addEventListener(\"load\",i),r.addEventListener(\"error\",u),r.src=n,r.complete&&setTimeout(i,0)})},O=function(r){return new x(function(t,n){var e=new XMLHttpRequest;e.open(\"GET\",r,!0),e.responseType=\"blob\",e.onload=function(){200===this.status&&t(this.response)},e.onerror=function(){var t,e=this;n(0===this.status?((t=new Error(\"No access to download image\")).code=18,t.name=\"SecurityError\",t):new Error(\"Error \"+e.status+\" downloading image\"))},e.send()})},P=function(n){return new x(function(t,e){(function(t){var e=t.split(\",\"),n=/data:([^;]+)/.exec(e[0]);if(!n)return T.none();for(var r=n[1],o=e[1],i=atob(o),u=i.length,a=Math.ceil(u/1024),c=new Array(a),s=0;s<a;++s){for(var f=1024*s,l=Math.min(1024+f,u),d=new Array(l-f),m=f,h=0;m<l;++h,++m)d[h]=i[m].charCodeAt(0);c[s]=new Uint8Array(d)}return T.some(new Blob(c,{type:r}))})(n).fold(function(){e(\"uri is not base64: \"+n)},t)})},S=function(t,r,o){return r=r||\"image/png\",m(HTMLCanvasElement.prototype.toBlob)?new x(function(e,n){t.toBlob(function(t){t?e(t):n()},r,o)}):P(t.toDataURL(r,o))},B=function(t){return C(t).then(function(t){N(t);var e,n,r=_((n=t).naturalWidth||n.width,(e=t).naturalHeight||e.height);return U(r).drawImage(t,0,0),r})},N=function(t){URL.revokeObjectURL(t.src)},D=C,F=function(t){return(0===(e=t.src).indexOf(\"data:\")?P:O)(e);var e},H=function(t,e){return function(t,e,n){for(var r=0,o=t.length;r<o;r++){var i=t[r];if(e(i,r))return T.some(i);if(n(i,r))break}return T.none()}(t,e,p)},q=function(t,e,n){var r=e.type,o=v(r),i=v(n),u=function(r,o){return t.then(function(t){return n=o,e=(e=r)||\"image/png\",t.toDataURL(e,n);var e,n})};return{getType:o,toBlob:function(){return x.resolve(e)},toDataURL:i,toBase64:function(){return n.split(\",\")[1]},toAdjustedBlob:function(e,n){return t.then(function(t){return S(t,e,n)})},toAdjustedDataURL:u,toAdjustedBase64:function(t,e){return u(t,e).then(function(t){return t.split(\",\")[1]})},toCanvas:function(){return t.then(R)}}},z=function(e){return n=e,new x(function(t){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n)}).then(function(t){return q(B(e),e,t)});var n},$=function(e,t){return S(e,t).then(function(t){return q(x.resolve(e),t,e.toDataURL())})},G=function(t,e){void 0===e&&(e=2);var n=Math.pow(10,e),r=Math.round(t*n);return Math.ceil(r/n)},J=function(t,e,n){var r=(n<0?360+n:n)*Math.PI/180,o=t.width,i=t.height,u=Math.sin(r),a=Math.cos(r),c=G(Math.abs(o*a)+Math.abs(i*u)),s=G(Math.abs(o*u)+Math.abs(i*a)),f=_(c,s),l=U(f);return l.translate(c/2,s/2),l.rotate(r),l.drawImage(t,-o/2,-i/2),$(f,e)},K=function(t,e,n){var r=_(t.width,t.height),o=U(r);return\"v\"===n?(o.scale(1,-1),o.drawImage(t,0,-r.height)):(o.scale(-1,1),o.drawImage(t,-r.width,0)),$(r,e)},V=function(t,e){return r=e,(n=t).toCanvas().then(function(t){return K(t,n.getType(),r)});var n,r},W=function(t,e){return r=e,(n=t).toCanvas().then(function(t){return J(t,n.getType(),r)});var n,r},X=Object.keys,Q=function(e,r,o){return void 0===o&&(o=!1),new x(function(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&t({status:n.status,blob:n.response})},n.open(\"GET\",e,!0),n.withCredentials=o,function(t,e){for(var n=X(t),r=0,o=n.length;r<o;r++){var i=n[r];e(t[i],i)}}(r,function(t,e){n.setRequestHeader(e,t)}),n.responseType=\"blob\",n.send()})},Y=[{code:404,message:\"Could not find Image Proxy\"},{code:403,message:\"Rejected request\"},{code:0,message:\"Incorrect Image Proxy URL\"}],Z=[{type:\"not_found\",message:\"Failed to load image.\"},{type:\"key_missing\",message:\"The request did not include an api key.\"},{type:\"key_not_found\",message:\"The provided api key could not be found.\"},{type:\"domain_not_trusted\",message:\"The api key is not valid for the request origins.\"}],tt=function(t,e){var n,r,o=(n=function(t,e){return h(t)?t[e]:undefined},r=t,function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}(e,function(t){r=n(r,t)}),r);return T.from(o)},et=function(t){var e,n=(e=t,\"ImageProxy HTTP error: \"+H(Y,function(t){return e===t.code}).fold(v(\"Unknown ImageProxy error\"),function(t){return t.message}));return x.reject(n)},nt=function(e){return H(Z,function(t){return t.type===e}).fold(v(\"Unknown service error\"),function(t){return t.message})},rt=function(t){return\"ImageProxy Service error: \"+function(t){try{return T.some(JSON.parse(t))}catch(e){return T.none()}}(t).bind(function(t){return tt(t,[\"error\",\"type\"]).map(nt)}).getOr(\"Invalid JSON in service error message\")},ot=function(t){return r=t,new x(function(t,e){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=function(t){e(t)},n.readAsText(r)}).then(function(t){var e=rt(t);return x.reject(e)});var r},it=function(t){return t<200||300<=t},ut=function(t,e){var n,r,o,i={\"Content-Type\":\"application/json;charset=UTF-8\",\"tiny-api-key\":e};return Q((r=e,o=-1===(n=t).indexOf(\"?\")?\"?\":\"&\",/[?&]apiKey=/.test(n)?n:n+o+\"apiKey=\"+encodeURIComponent(r)),i).then(function(t){return it(t.status)?(e=t.status,n=t.blob,r=e,\"application/json\"!==(null==(o=n)?void 0:o.type)||400!==r&&403!==r&&404!==r&&500!==r?et(e):ot(n)):x.resolve(t.blob);var e,n,r,o})},at=function(t,e,n){return void 0===n&&(n=!1),e?ut(t,e):Q(t,{},n).then(function(t){return it(t.status)?et(t.status):x.resolve(t.blob)})},ct=z,st=function(t){if(null===t||t===undefined)throw new Error(\"Node cannot be null or undefined\");return{dom:t}},ft={fromHtml:function(t,e){var n=(e||document).createElement(\"div\");if(n.innerHTML=t,!n.hasChildNodes()||1<n.childNodes.length)throw console.error(\"HTML does not have a single root node\",t),new Error(\"HTML must have a single root node\");return st(n.childNodes[0])},fromTag:function(t,e){var n=(e||document).createElement(t);return st(n)},fromText:function(t,e){var n=(e||document).createTextNode(t);return st(n)},fromDom:st,fromPoint:function(t,e,n){return T.from(t.dom.elementFromPoint(e,n)).map(st)}},lt=(\"undefined\"!=typeof window||Function(\"return this;\")(),function(t,e){return n=function(t){return function(t,e){var n=t.dom;if(1!==n.nodeType)return!1;var r=n;if(r.matches!==undefined)return r.matches(e);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(e);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(e);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(e);throw new Error(\"Browser lacks native selectors\")}(t,e)},H(t.dom.childNodes,function(t){return n(ft.fromDom(t))}).map(ft.fromDom);var n}),dt=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),mt=tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),ht=tinymce.util.Tools.resolve(\"tinymce.util.URI\"),gt=function(t){return t.getParam(\"imagetools_proxy\")},vt=function(t){var e=function(t){return/^[0-9\\.]+px$/.test(t)},n=t.style.width,r=t.style.height;return n||r?e(n)&&e(r)?{w:parseInt(n,10),h:parseInt(r,10)}:null:(n=t.width,r=t.height,n&&r?{w:parseInt(n,10),h:parseInt(r,10)}:null)},pt=function(t){return{w:t.naturalWidth,h:t.naturalHeight}},yt=0,wt=function(t){return lt(ft.fromDom(t),\"img\")},bt=function(t,e){return t.dom.is(e,\"figure\")},It=function(t,e){return t.dom.is(e,\"img:not([data-mce-object],[data-mce-placeholder])\")},Tt=function(e,t){var n=function(t){return It(e,t)&&(At(e,t)||xt(e,t)||h(gt(e)))};return bt(e,t)?wt(t).bind(function(t){return n(t.dom)?T.some(t.dom):T.none()}):n(t)?T.some(t):T.none()},_t=function(t,e){t.notificationManager.open({text:e,type:\"error\"})},Rt=function(t){var e=t.selection.getNode(),n=t.dom.getParent(e,\"figure.image\");return null!==n&&bt(t,n)?wt(n):It(t,e)?T.some(ft.fromDom(e)):T.none()},Ut=function(t,e,n){var r=e.match(/(?:\\/|^)(([^\\/\\?]+)\\.(?:[a-z0-9.]+))(?:\\?|$)/i);return h(r)?t.dom.encode(r[n]):null},At=function(t,e){var n=e.src;return 0===n.indexOf(\"data:\")||0===n.indexOf(\"blob:\")||new ht(n).host===t.documentBaseURI.host},xt=function(t,e){return-1!==d.inArray(t.getParam(\"imagetools_cors_hosts\",[],\"string[]\"),new ht(e.src).host)},Et=function(t,e){if(xt(t,e))return at(e.src,null,(n=t,r=e,-1!==d.inArray(n.getParam(\"imagetools_credentials_hosts\",[],\"string[]\"),new ht(r.src).host)));var n,r,o;if(At(t,e))return F(e);var i=gt(t),u=i+(-1===i.indexOf(\"?\")?\"?\":\"&\")+\"url=\"+encodeURIComponent(e.src),a=(o=t).getParam(\"api_key\",o.getParam(\"imagetools_api_key\",\"\",\"string\"),\"string\");return at(u,a,!1)},Mt=function(t,e){return n=t,T.from(n.getParam(\"imagetools_fetch_image\",null,\"function\")).fold(function(){return Et(t,e)},function(t){return t(e)});var n},Lt=function(t,e){var n=t.editorUpload.blobCache.getByUri(e.src);return n?mt.resolve(n.blob()):Mt(t,e)},jt=function(t){dt.clearTimeout(t.get())},kt=function(a,c,s,f,l,d,m){return s.toBlob().then(function(t){var e,n,o,r=a.editorUpload.blobCache,i=d.src,u=c.type===t.type;return a.getParam(\"images_reuse_filename\",!1,\"boolean\")&&(o=r.getByUri(i),n=h(o)?(i=o.uri(),e=o.name(),o.filename()):(e=Ut(a,i,2),Ut(a,i,1))),o=r.create({id:\"imagetools\"+yt++,blob:t,base64:s.toBase64(),uri:i,name:e,filename:u?n:undefined}),r.add(o),a.undoManager.transact(function(){var r=function(){var t,e,n;a.$(d).off(\"load\",r),a.nodeChanged(),f?a.editorUpload.uploadImagesAuto():(jt(l),t=a,e=l,n=dt.setEditorTimeout(t,function(){t.editorUpload.uploadImagesAuto()},t.getParam(\"images_upload_timeout\",3e4,\"number\")),e.set(n))};a.$(d).on(\"load\",r),m&&a.$(d).attr({width:m.w,height:m.h}),a.$(d).attr({src:o.blobUri()}).removeAttr(\"data-mce-src\")}),o})},Ct=function(r,o,t,i){return function(){return Rt(r).fold(function(){_t(r,\"Could not find selected image\")},function(n){return r._scanForImages().then(function(){return Lt(r,n.dom)}).then(function(e){return ct(e).then(t).then(function(t){return kt(r,e,t,!1,o,n.dom,i)})})[\"catch\"](function(t){_t(r,t)})})}},Ot=function(e,n,r){return function(){var t=Rt(e).fold(function(){return null},function(t){var e=vt(t.dom);return e?{w:e.h,h:e.w}:null});return Ct(e,n,function(t){return W(t,r)},t)()}},Pt=function(t,e,n){return function(){return Ct(t,e,function(t){return V(t,n)})()}},St=function(e,n,u,a,c){return D(c).then(function(t){var e,n,r,o,i=pt(t);return a.w===i.w&&a.h===i.h||vt(u)&&(e=u,(n=i)&&(r=e.style.width,o=e.style.height,(r||o)&&(e.style.width=n.w+\"px\",e.style.height=n.h+\"px\",e.removeAttribute(\"data-mce-style\")),r=e.width,o=e.height,(r||o)&&(e.setAttribute(\"width\",String(n.w)),e.setAttribute(\"height\",String(n.h))))),URL.revokeObjectURL(t.src),c}).then(ct).then(function(t){return kt(e,c,t,!0,n,u)})},Bt=function(i,u){return function(){var r=Rt(i),o=r.map(function(t){return pt(t.dom)});r.each(function(e){Tt(i,e.dom).each(function(t){Lt(i,e.dom).then(function(t){var e,n={blob:e=t,url:URL.createObjectURL(e)};i.windowManager.open({title:\"Edit Image\",size:\"large\",body:{type:\"panel\",items:[{type:\"imagetools\",name:\"imagetools\",label:\"Edit Image\",currentState:n}]},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0,disabled:!0}],onSubmit:function(t){var n=t.getData().imagetools.blob;r.each(function(e){o.each(function(t){St(i,u,e.dom,t,n)})}),t.close()},onCancel:g,onAction:function(t,e){switch(e.name){case\"save-state\":e.value?t.enable(\"save\"):t.disable(\"save\");break;case\"disable\":t.disable(\"save\"),t.disable(\"cancel\");break;case\"enable\":t.enable(\"cancel\")}}})})})})}};f.add(\"imagetools\",function(t){var n,e,r,o,i,u,a,c,s=l(0),f=l(null);n=t,e=s,d.each({mceImageRotateLeft:Ot(n,e,-90),mceImageRotateRight:Ot(n,e,90),mceImageFlipVertical:Pt(n,e,\"v\"),mceImageFlipHorizontal:Pt(n,e,\"h\"),mceEditImage:Bt(n,e)},function(t,e){n.addCommand(e,t)}),o=function(t){return function(){return r.execCommand(t)}},(r=t).ui.registry.addButton(\"rotateleft\",{tooltip:\"Rotate counterclockwise\",icon:\"rotate-left\",onAction:o(\"mceImageRotateLeft\")}),r.ui.registry.addButton(\"rotateright\",{tooltip:\"Rotate clockwise\",icon:\"rotate-right\",onAction:o(\"mceImageRotateRight\")}),r.ui.registry.addButton(\"flipv\",{tooltip:\"Flip vertically\",icon:\"flip-vertically\",onAction:o(\"mceImageFlipVertical\")}),r.ui.registry.addButton(\"fliph\",{tooltip:\"Flip horizontally\",icon:\"flip-horizontally\",onAction:o(\"mceImageFlipHorizontal\")}),r.ui.registry.addButton(\"editimage\",{tooltip:\"Edit image\",icon:\"edit-image\",onAction:o(\"mceEditImage\"),onSetup:function(e){var t=function(){var t=Rt(r).forall(function(t){return Tt(r,t.dom).isNone()});e.setDisabled(t)};return r.on(\"NodeChange\",t),function(){r.off(\"NodeChange\",t)}}}),r.ui.registry.addButton(\"imageoptions\",{tooltip:\"Image options\",icon:\"image\",onAction:o(\"mceImage\")}),r.ui.registry.addContextMenu(\"imagetools\",{update:function(t){return Tt(r,t).fold(function(){return[]},function(t){return[{text:\"Edit image\",icon:\"edit-image\",onAction:o(\"mceEditImage\")}]})}}),(i=t).ui.registry.addContextToolbar(\"imagetools\",{items:i.getParam(\"imagetools_toolbar\",\"rotateleft rotateright flipv fliph editimage imageoptions\"),predicate:function(t){return Tt(i,t).isSome()},position:\"node\",scope:\"node\"}),a=s,c=f,(u=t).on(\"NodeChange\",function(t){var e=c.get(),n=Tt(u,t.element);e&&!n.exists(function(t){return e.src===t.src})&&(jt(a),u.editorUpload.uploadImagesAuto(),c.set(null)),n.each(c.set)})})}();"]}